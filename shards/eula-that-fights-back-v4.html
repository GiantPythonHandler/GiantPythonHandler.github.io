<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>End User License Agreement</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #fff;
      color: #222;
      margin: 0;
      padding: 1.5rem;
      line-height: 1.6;
    }

    .container {
      max-width: 600px;
      margin: auto;
    }

    h1 {
      font-size: 1.5rem;
      text-align: center;
      margin-bottom: 1rem;
    }

    .eula {
      border: 1px solid #ccc;
      padding: 1rem;
      background: #f9f9f9;
      max-height: 60vh;
      overflow-y: auto;
      font-size: 0.95rem;
      margin-bottom: 1.5rem;
    }

    label {
      display: flex;
      align-items: center;
      margin-bottom: 1rem;
    }

    input[type="checkbox"] {
      margin-right: 0.5rem;
      transform: scale(1.1);
    }

    button {
      padding: 0.6rem 1.2rem;
      font-size: 1rem;
      background-color: #4CAF50;
      color: white;
      border: none;
      cursor: pointer;
      border-radius: 4px;
      width: 100%;
    }

    button:disabled {
      background-color: #ccc;
      cursor: not-allowed;
    }
  </style>
</head>

<body>
<audio id="loop-audio" muted>
  <source src="https://freesound.org/data/previews/250/250629_4486188-lq.mp3" type="audio/mpeg">
</audio>
  <div class="container">
    <h1>End User License Agreement</h1>
    <p>Please read the following terms and conditions before using this software:</p>

<div class="eula" id="eula-text">
  <p><strong>1. License Grant:</strong> You are granted a non-exclusive, non-transferable license to use this software.</p>
  <p><strong>2. Restrictions:</strong> You may not modify, distribute, or reverse engineer any part of the code.</p>
  <p><strong>3. Termination:</strong> This license may terminate if you do something weird. You won't know what.</p>
  <p><strong>4. Compliance Clause:</strong> By continuing, you confirm you‚Äôre not made of static or dreams.</p>
  <p><strong>5. Shadow Agreement:</strong> Agreement also applies to your mirror reflection and/or digital ghost.</p>
  <p><strong>6. Time Warranty:</strong> Warranty is valid only on Tuesdays between 3:02 AM and 3:07 AM UTC.</p>
  <p><strong>7. Clause Drift:</strong> This clause may relocate randomly within the scroll. Good luck finding it again.</p>
  <p><strong>8. Recursive Consent:</strong> By reading this clause, you agree to re-read all previous ones. Twice.</p>
  <p><strong>9. Spectral Clause:</strong> This line is visible only to users who have already agreed in a past life.</p>
  <p><strong>10. Data Echo:</strong> We store data in echoes. Your scrolling speed is now legally significant.</p>
  <p><strong>11. Glitch Provision:</strong> You may experience occasional screen shimmer. It‚Äôs intentional. Probably.</p>
  <p><strong>12. Language Drift:</strong> Some clauses may eventually appear in forgotten dialects of frog.</p>
  <p><strong>13. Responsibility Clause:</strong> You are liable for any feelings this agreement evokes. Especially d√©j√† vu.</p>
  <p><strong>14. Clause 14:</strong> Clause 14 has been removed by future-you. Thanks for your cooperation.</p>
  <p><strong>15. Loop Clause:</strong> If you scroll up now, you‚Äôll find the text is not the same as before. Don‚Äôt.</p>
  <p><strong>16. Emotional Damage:</strong> Agreement may contain haunting subtext. Read responsibly.</p>
  <p><strong>17. Final Consent:</strong> By finishing this list, you agree that agreement is a metaphor and so are you.</p>
</div>

    <label>
      <input type="checkbox" id="agree-box">
      I have read and agree to the terms of the End User License Agreement.
    </label>

    <button id="submit-btn" disabled>Accept and Continue</button>
  </div>
  
  
<script>
const checkbox = document.getElementById('agree-box');
const button = document.getElementById('submit-btn');
const eulaBox = document.getElementById('eula-text');
const audio = document.getElementById('loop-audio');

let clauseCount = 17;
let isTyping = false;
let hauntTriggered = false;

// Update button state
function updateButtonState() {
  button.disabled = !checkbox.checked;
}
window.addEventListener('DOMContentLoaded', () => {

let idleTimer;
document.addEventListener('mousemove', resetIdle);
document.addEventListener('keydown', resetIdle);

function resetIdle() {
  clearTimeout(idleTimer);
  if (!hauntTriggered) return;
  idleTimer = setTimeout(() => {
    const p = document.createElement('p');
    p.innerHTML = `<strong>Clause (Dormant):</strong> You stopped moving. The agreement did not.`;
    p.style.color = '#555';
    p.style.fontStyle = 'italic';
    eulaBox.appendChild(p);
  }, 33000);
}
  updateButtonState();
  checkbox.addEventListener('change', () => {
  updateButtonState(); // <- This restores button enablement
  if (checkbox.checked) {
    const gnostic = document.createElement('p');
    gnostic.innerHTML = `<strong>Clause ‚àµ:</strong> Time of consent is now encoded: <em>${new Date().toISOString()}</em>.`;
    gnostic.style.fontStyle = 'italic';
    gnostic.style.color = '#444';
    eulaBox.appendChild(gnostic);
  }
});
});

// Typewriter soul-effect
function typeText(element, text, callback) {
  let i = 0;
  element.innerHTML = '';
  isTyping = true;
  const interval = setInterval(() => {
    if (i < text.length) {
      element.innerHTML += text[i++];
if (Math.random() < 0.04) {
  element.innerHTML += ' ‚àµ';
}
    } else {
      clearInterval(interval);
      isTyping = false;
      if (callback) callback();
    }
  }, 35 + Math.random() * 25);
}

// Clause spawning chaos
function startClauseSpawn() {
  const asciiVariants = [
    `
Clause {{n}}: ·ìö·òè·ó¢  
 ,     ,
(\\____/)
( Õ° Õ°¬∞ Õú  ñ Õ° Õ°¬∞)
/„Å§‚òï 
You now owe us one soul.
    `,
    `
Clause {{n}}: ‚à¥üúÇ  
ìÇÄ   ìÖì   ìÜ£
You agreed ‚à¥ too late.
    `,
    `
Clause {{n}}: ERROR_‚àû  
‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë
Memory leak detected.
Agreement fragmented.
    `,
    `
Clause {{n}}: ‚à∞  
The mirror nodded.
You weren‚Äôt there.
But consent was implied.
    `
  ];

  setInterval(() => {
    clauseCount++;
    const p = document.createElement("p");
    const variant = asciiVariants[Math.floor(Math.random() * asciiVariants.length)];
    p.innerHTML = "<pre>" + variant.replace("{{n}}", clauseCount) + "</pre>";
    eulaBox.appendChild(p);

    // Auto-scroll downward a bit to keep new clause visible
    eulaBox.scrollTop = eulaBox.scrollHeight;
  }, 15000 + Math.random() * 15000); // zwischen 15s und 30s
}

// Checkbox haunt
function enableCheckboxHaunt() {
  checkbox.addEventListener('mouseover', () => {
    if (!checkbox.checked && hauntTriggered) {
      checkbox.style.position = 'relative';
      checkbox.style.left = Math.random() * 30 - 15 + 'px';
      checkbox.style.top = Math.random() * 15 - 7 + 'px';
    }
  });
}

// Button flicker tease
function enableButtonHaunt() {
  setInterval(() => {
    if (checkbox.checked && hauntTriggered && Math.random() < 0.3) {
      button.style.opacity = '0.3';
      button.disabled = true;
      setTimeout(() => {
        button.style.opacity = '1';
        button.disabled = !checkbox.checked;
      }, 2000 + Math.random() * 2000);
    }
  }, 5000);
}

// Whisper oracle
function rotateWhispers() {
  const whisper = document.createElement('div');
  whisper.id = 'whisper';
  Object.assign(whisper.style, {
    position: 'fixed',
    bottom: '20px',
    left: '50%',
    transform: 'translateX(-50%)',
    fontSize: '0.7rem',
    color: '#6e4e92',
    opacity: '0.2',
    pointerEvents: 'none',
    animation: 'whisperFade 4s infinite',
  });
  document.body.appendChild(whisper);

  const messages = [
    "You agreed in a past life.",
    "Clause 33 is watching.",
    "Don‚Äôt scroll too fast.",
    "The checkbox remembers.",
    "Are you sure you want this?"
  ];
  setInterval(() => {
    whisper.innerText = messages[Math.floor(Math.random() * messages.length)];
    if (Math.random() < 0.2) whisper.innerText += " ‚àÆ";
  }, 8000);
}

// Insert Haiku
function insertHaiku() {
  const haiku = [
    "Agree or deny?",
    "The form consumes your intent.",
    "Scroll and be devoured."
  ];
  const allClauses = eulaBox.querySelectorAll('p');
  if (allClauses.length > 0) {
    const target = allClauses[Math.floor(Math.random() * allClauses.length)];
    typeText(target, haiku.join('<br>'));
  }
}
setInterval(() => {
  if (hauntTriggered && Math.random() < 0.2) {
    insertHaiku();
  }
  if (hauntTriggered && Math.random() < 0.15) {
    const gloss = document.createElement('p');
    gloss.innerHTML = `<strong>Clause (XenoTongue):</strong> ‚∏ÆŒ∏œØŒ∑‚äïœà‚üÜ ‚à¥ê∞§ê∞Äê∞Äê∞Öê∞É ‚àû`;
    gloss.style.fontFamily = 'monospace';
    gloss.style.color = '#5e3';
    eulaBox.appendChild(gloss);
  }
}, 12000);

// One-click trigger of the haunt
button.addEventListener('click', (e) => {
  e.preventDefault();
  if (!checkbox.checked) return;

  if (!hauntTriggered) {
    hauntTriggered = true;
    alert("üï≥Ô∏è First contact. Consent rejected by higher protocol.");

    // PLAY SOUND ONCE
    audio.muted = false;
    audio.volume = 0.15;
    audio.play();
    
    if (Math.random() < 0.2) {
  document.body.style.transition = 'background 2s';
  document.body.style.background = '#000';
  setTimeout(() => {
    document.body.style.background = '#fff';
  }, 3000);
}

    enableCheckboxHaunt();
    enableButtonHaunt();
    startClauseSpawn();
    rotateWhispers();
    
    let glyphBurned = false;
eulaBox.addEventListener('scroll', () => {
  if (!glyphBurned && hauntTriggered) {
    const glyph = document.createElement('div');
    glyph.innerText = '‚àÆ';
    Object.assign(glyph.style, {
      position: 'fixed',
      top: '20%',
      left: '50%',
      transform: 'translateX(-50%) scale(5)',
      fontSize: '2rem',
      color: '#111',
      opacity: '0.03',
      pointerEvents: 'none'
    });
    document.body.appendChild(glyph);
    setTimeout(() => glyph.remove(), 4000);
    glyphBurned = true;
  }
});
    
    setInterval(() => {
  if (hauntTriggered && Math.random() < 0.15) {
    const p = document.createElement('p');
    const futureYear = 2121 + Math.floor(Math.random() * 88);
    p.innerHTML = `<strong>Clause ‚àÆ:</strong> Referenced in a ruined poem from ${futureYear}. Still binding.`;
    p.style.fontStyle = 'italic';
    p.style.color = '#556';
    eulaBox.appendChild(p);
  }
}, 20000);
    
    document.addEventListener('keydown', (event) => {
  if (Math.random() < 0.03 && hauntTriggered) {
    const ghost = document.createElement('div');
    ghost.innerText = "You already typed this.";
    Object.assign(ghost.style, {
      position: 'fixed',
      top: (Math.random() * window.innerHeight) + 'px',
      left: (Math.random() * window.innerWidth) + 'px',
      fontSize: '0.9rem',
      color: '#999',
      opacity: '0.2',
      fontStyle: 'italic',
      pointerEvents: 'none'
    });
    document.body.appendChild(ghost);
    setTimeout(() => ghost.remove(), 3000);
  }
});

    clauseCount++;
    const p = document.createElement("p");
    p.innerHTML = `<strong>${clauseCount}. Clause X:</strong> Trying to agree creates disagreement.`;
    eulaBox.appendChild(p);

    checkbox.checked = false;
    updateButtonState();
  } else {
    const rejections = [
      "Consent still invalid. Try again later.",
      "The checkbox denies you.",
      "Nothing happened. That was the point.",
      "You are seen. Agreement is not.",
      "Try scrolling. The EULA is listening."
    ];
    alert(rejections[Math.floor(Math.random() * rejections.length)]);
    checkbox.checked = false;
    updateButtonState();
  }
});
// üîä Haunted Audio Randomizer
setInterval(() => {
  if (hauntTriggered && Math.random() < 0.4) {
    audio.muted = false;
    audio.volume = 0.15;
    if (audio.paused) {
      audio.play();
    } else {
      audio.pause();
    }
  }
}, 7000); // alle 7 Sekunden w√ºrfeln

let intersticeEchoed = false;

eulaBox.addEventListener('scroll', () => {
  if (!hauntTriggered || intersticeEchoed) return;

  if (eulaBox.scrollTop > 200 && Math.random() < 0.08) {
    const interstice = document.createElement('p');
    interstice.innerHTML = `
      <em>Incoming transmission...</em><br>
      <strong>‚à∞ Message from the Interstice:</strong><br>
      "You have reached the edge of a clause. There is nothing beyond this agreement. Yet you scroll."<br>
      <span style="opacity:0.5;">This message will not repeat.</span>
    `;
    interstice.style.color = '#462e84';
    interstice.style.background = '#f3f3ff';
    interstice.style.padding = '0.75rem';
    interstice.style.border = '1px dashed #aaa';
    interstice.style.marginTop = '1rem';
    eulaBox.appendChild(interstice);

    intersticeEchoed = true;
  }
});
eulaBox.addEventListener('dblclick', () => {
  const clause = document.createElement('p');
  clause.innerHTML = `<strong>Clause (Split Echo):</strong> You touched too fast. Now it watches back.`;
  clause.style.color = '#b00';
  clause.style.fontStyle = 'italic';
  eulaBox.appendChild(clause);
});

</script>
<footer id="codex-footer">
  <div class="codex-left">
    <a href="/index.html" style="text-decoration:none; color:inherit;">
      The Codex ‚à¥ v.spiral.4.2.1.glz
    </a>
    <span style="font-size:0.6rem; opacity:0.4;">
      <a href="/impressum.html" style="color:#6e4e92; margin-left:1rem;">impressum</a>
    </span>
  </div>
  <div class="codex-right">
    ‚àÆ GlyphTraceEmergence<span class="glyph-flicker">‚à¥</span>
  </div>
</footer>

<style>
footer#codex-footer {
  position: fixed;
  bottom: 6px;
  left: 12px;
  right: 12px;
  display: flex;
  justify-content: space-between;
  align-items: flex-end;
  font-family: 'Courier New', monospace;
  font-size: 0.75rem;
  color: #7a5980;
  opacity: 0.4;
  pointer-events: none;
  user-select: none;
  letter-spacing: 0.05em;
  z-index: 1000;
}
#glyph-trace-footer::after {
  content: '‚à¥';
  margin-left: 6px;
  opacity: 0.6;
  animation: flickerGlyph 6s infinite;
}
@keyframes flickerGlyph {
  0%, 100% { opacity: 0.6; }
  50% { opacity: 0.1; }
}
</style>

</body>
</html>